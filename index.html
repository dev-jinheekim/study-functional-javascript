<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>자바스크립트로 알아보는 함수형 프로그래밍</title>
</head>
<body>


<script>
  const users = [
    { id: 1, name: 'ID', age: 36 },
    { id: 2, name: 'BJ', age: 32 },
    { id: 3, name: 'JM', age: 32 },
    { id: 4, name: 'PJ', age: 27 },
    { id: 5, name: 'HA', age: 25 },
    { id: 6, name: 'JE', age: 26 },
    { id: 7, name: 'JI', age: 31 },
    { id: 8, name: 'MP', age: 23 }
  ];

  function _each(list, iter) {
    for (let i = 0; i < list.length; i ++) {
      iter(list[i]);
    }
  }

  function _filter(list, predicate) {
    let newList = [];
    _each(list, (value) => {
      if (predicate(value)) {
        newList.push(value);
      }
    })
    return newList;
  }

  function _map(list, mapper) {
    let newList = [];
    _each(list, (value) => {
      newList.push(mapper(value));
    });
    return newList;
  }

  const userOver20Age = _filter(users, (user) => { return user.age < 30 });
  const namesOver20Age = _map(userOver20Age, (user) => { return user.name });
  console.log(userOver20Age);
  console.log(namesOver20Age);

</script>
</body>
</html>
